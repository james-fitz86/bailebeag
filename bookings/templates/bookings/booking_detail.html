{% extends "config/base.html" %}
{% load crispy_forms_tags %}

{% block title %}Booking Detail{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Booking Details</h2>

    <div class="card mt-3">
        <div class="card-body">
            <h5 class="card-title">{{ booking.pitch.name }}</h5>
            <p class="card-text">
                <strong>Date:</strong> {{ booking.start_time|date:"Y-m-d" }}<br>
                <strong>Time:</strong> {{ booking.start_time|time:"H:i" }} â€“ {{ booking.end_time|time:"H:i" }}<br>
                <strong>Booked By:</strong>
                {% if booking.created_by %}
                    {{ booking.created_by.get_full_name }}
                {% else %}
                    {{ booking.name }}
                {% endif %}<br>
                <strong>Role:</strong>
                {% if booking.created_by %}
                    {{ booking.created_by.role|title }}
                {% else %}
                    Public User
                {% endif %}<br>
                <strong>Email:</strong> {{ booking.email }}<br>
                <strong>Method:</strong> {{ booking.get_method_display }}<br>
                <strong>Status:</strong>
                {% if booking.status == 'approved' %}
                    <span class="badge bg-success">Approved</span>
                {% elif booking.status == 'pending' %}
                    <span class="badge bg-warning text-dark">Pending</span>
                {% elif booking.status == 'rejected' %}
                    <span class="badge bg-danger">Rejected</span>
                {% else %}
                    {{ booking.status }}
                {% endif %}
            </p>

            <div class="mt-3">
                <a href="{% url 'booking_update' object.id %}" class="btn btn-primary">Update</a>
                <a href="{% url 'booking_delete' object.id %}" class="btn btn-danger">Delete</a>
                <a href="{% url 'booking_list' %}" class="btn btn-secondary">Back to Bookings</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}